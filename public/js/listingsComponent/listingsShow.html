<div id="index-banner" class="parallax-container">
  <div class="parallax"><img ng-src="{{$ctrl.listing.imageUrl}}" alt="Unsplashed background img 1" style="display: block; transform: translate3d(-50%, 203px, 0px);"></div>
</div>

<!-- main listing info -->
<div class="row">
  <!-- listing info -->
  <div class="col m8">

    <div class="container">

      <div class="row valign-wrapper">
        <div class="col s12 m3 center">
          <img class="responsive-img circle" ng-src="{{$ctrl.listing.hostImgUrl}}">
        </div>
        <div class="col s12 m9">
          <h4>{{$ctrl.listing.title}}</h4>
          <p>Looking for: {{$ctrl.listing.lookingFor}}</p>
          <p>{{$ctrl.listing.address.city}}, {{$ctrl.listing.address.state}}</p>
          <div class="row valign-wrapper">
            <div class="col s3">
              {{$ctrl.listing.roomType}}
            </div>
            <div class="col s3">
              {{$ctrl.listing.moveInDate | date:'MM/dd'}}
            </div>
            <div class="col s3">
              {{$ctrl.listing.duration}}
            </div>
            <div class="col s3">
              {{$ctrl.listing.deposit}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- listing actions -->
  <div class="col m3 center-align">
    <div ng-show="($ctrl.authService.getMyId() === $ctrl.listing.hostId)" class="listing-actions card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">This is your listing</span>
      </div>
      <div class="card-action">
        <a class="btn red waves-effect waves-light" ng-link="['ListingsEdit', {id: $ctrl.listing._id}]">Edit</a>
      </div>
    </div>

    <div ng-show="!($ctrl.authService.getMyId() === $ctrl.listing.hostId)" class="listing-actions card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">{{$ctrl.listing.hostId}}</span>
      </div>
      <div class="card-action">
        <button class="btn red waves-effect waves-light">Message Me</button>
      </div>
    </div>
  </div>
<!-- END main listing info -->
</div>

<!-- extra listing info -->
<div class="row grey lighten-4">
  <div class="col m8">
    <div class="container">
      <div class="section">
        <h5>Description</h5>
        <p>{{$ctrl.listing.description}}</p>
      </div>

      <div class="section">

        <div class="row">
          <div class="col s4">
          <h5>The Space</h5>
          </div>
          <div class="col s8">
            <div class="row">
              <div class="col s6" ng-repeat="(key, value) in $ctrl.listing.space">
                {{$ctrl.convertKey(key)}}
              </div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="col s4">
            Amenities
          </div>
          <div class="col s8">
            <div class="row">
              <div class="col s6" ng-class="{strikeout: !amenity.value}" ng-repeat="amenity in $ctrl.listing.amenities">
                {{amenity.description}}
              </div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="col s4">
            Rules
          </div>
          <div class="col s8">
            <div class="row">
              <div class="col s6" ng-class="{strikeout: !rule.value}" ng-repeat="rule in $ctrl.listing.rules">
                {{rule.description}}
              </div>
            </div>
            <div class="row">
              <div class="col s12">
                {{$ctrl.listing.houseRules}}
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
  </div>
</div>
<!-- END extra listing info -->

